# パーティー選択画面 ビジュアルコンセプト & 要件設計（最新版）

## 🎮 概要

ゲームの世界観に基づき、「ポストアポカリプスの自然が戻った石造遺跡」を背景とした横長構図の**パーティー選択画面**。プレイヤーが6体のモンスターを編成するUIと、モンスター選択～技設定までを一貫して体験できる設計。

---

## 🎨 コンセプトテーマ

* **世界観**：文明崩壊後、自然が再生した遺跡。失われた文明の石造建築と新たな生命が共存する。
* **トーン＆ムード**：

  * 柔らかな陽光が差し込む穏やかな廃墟。
  * 石造アーチや崩れた柱に苔が生え、草花が風に揺れる。
  * モンスターたちはそれぞれの属性色を帯びて立つ。

---

## 🧩 画面構成（レイアウト）

### レイアウト図（横長構図）

```
┌──────────────────────────────────────────┐
│                     パーティー選択画面（背景：石造遺跡＋自然）                     │
│                                                                                      │
│  🔥  🦉  🦖  🌿  💧  🔴     ← 6体のモンスタースポット（属性に応じた光の台座）            │
│                                                                                      │
│ [モンスターを選ぶ]  [モンスターを選ぶ]  [モンスターを選ぶ]  [モンスターを選ぶ]  [モンスターを選ぶ]  [モンスターを選ぶ] │
│                                                                                      │
│                                            [戻る]                [次へ]              │
└──────────────────────────────────────────┘
```

### 各要素の構成

| 要素            | 種別     | 機能・役割                                  |
| ------------- | ------ | -------------------------------------- |
| 背景            | イラスト   | ポストアポカリプスの遺跡、草木が生い茂る自然。幻想的で明るい雰囲気。     |
| モンスタースポット ×6  | エリア    | 各スポットにモンスターを表示。未設定時はシルエット。             |
| 「モンスターを選ぶ」ボタン | Button | クリックでモーダルを開く。モンスター未設定時は「選ぶ」、設定済みは「変更」。 |
| 「次へ」ボタン       | Button | 6体すべて設定済みで有効化。出場モンスター選択画面へ遷移。          |
| 「戻る」ボタン       | Button | 開始画面に戻る。                               |

---

## 🧠 処理フロー（概要）

1. 「モンスターを選ぶ」ボタン押下 → モンスター選択モーダルを表示。
2. `monsters.js` から全モンスターを読み込み一覧表示。
3. モンスターを選択 → 該当スポットに反映。
4. モンスターが設定されると「技を選ぶ」ボタンが有効化。
5. 「技を選ぶ」押下 → `moves.js` から技リストを読み込み、4つまで選択可。
6. 全6スポットが埋まったら「次へ」ボタンを有効化。

---

## ⚙️ モンスター選択モーダル

### 構成

* 上部に2ボタン：`[モンスターを選ぶ]` / `[技を選ぶ]`（未選択時は無効化）
* コンテンツ切り替え式：

  * 「モンスターを選ぶ」→ `monsters.js`一覧表示
  * 「技を選ぶ」→ `moves.js`一覧表示
* 技は最大4つまでセット可能。
* 選択確定後、モーダルを閉じてパーティー選択画面へ戻る。

### UIフロー

```mermaid
flowchart TD
  A[パーティー選択画面] --> B[モンスター選択モーダル開く]
  B --> C[monsters.js ロード]
  C --> D[モンスター1体選択]
  D --> E[技を選ぶボタン有効化]
  E --> F[moves.js ロード]
  F --> G[技を最大4つ選択]
  G --> H[完了→モーダル閉じる]
  H --> I[スポットに反映]
  I --> J{全スポット埋まった？}
  J -- Yes --> K[次へボタン有効化]
```

---

## 🎨 ビジュアルデザインガイド

| 要素      | デザイン         | 色・スタイル                                                    |
| ------- | ------------ | --------------------------------------------------------- |
| 背景      | 遺跡＋自然        | #E8E3DC（石壁）＋#A3CFA1（草木）＋#F9F7F3（光）                        |
| モンスター台座 | 光る円形         | 属性色：炎#FF934C、水#62C6F0、風#A5E37A、土#E0C78E、雷#FFD65B、闇#A695C7 |
| ボタン     | 角丸+フラット      | メイン#6C8CF0、無効#BFC8E0、文字白#FFF                              |
| フォント    | Noto Sans JP | Title: Bold / Text: Regular                               |

---

## ✨ オリジナルモンスター（属性別コンセプト）

| 属性 | 名前（仮）  | デザインコンセプト                |
| -- | ------ | ------------------------ |
| 炎  | フレイムリン | 背中に光る結晶。陽炎のように熱を帯びたトカゲ型。 |
| 水  | アクアリス  | 丸みのある両生類。背に小さな水泡を抱える。    |
| 風  | リーファ   | 葉と羽が一体化した小型の妖精獣。         |
| 土  | ロックホーン | ごつごつした岩の鎧を持つ四足獣。         |
| 雷  | スパークル  | 電光の尻尾を持つ俊敏な小型獣。          |
| 闇  | ノクタス   | 闇の霧を纏った影のような生命体。目だけが光る。  |

---

## 🌄 ビジュアルトーン

* 全体に「静けさの中に命の息吹」を感じさせる。
* 背景とUIのトーンを統一し、余白を多く取るデザイン。
* 発光や影を多用せず、**柔らかく幻想的な雰囲気**を重視。

---

## 🔧 実装ガイド

* 背景アートを固定レイヤー化し、UIは上に重ねる構成。
* モンスター画像は`assets/monsters/`内に属性別で管理。
* 各スポットの状態（空/選択済）は `state.party[index]` で管理。
* 技選択結果は `state.moves[monsterId]` に紐づけ。
* モーダルは `overflow-y:auto; max-height:80vh;` を適用。

---

## ✅ 受け入れ基準

1. 背景が横長（16:9）構図で描画されている。
2. 各スポットのモンスターが個別に設定・変更できる。
3. 技選択が4つを超えない制御が機能する。
4. 6体全て設定すると「次へ」ボタンが有効化される。
5. 画面全体がスクロールレスで表示される。
